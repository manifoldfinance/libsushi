var we=Object.defineProperty;var Oe=Object.getOwnPropertySymbols;var br=Object.prototype.hasOwnProperty,xr=Object.prototype.propertyIsEnumerable;var Re=(e,r,t)=>r in e?we(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,V=(e,r)=>{for(var t in r||(r={}))br.call(r,t)&&Re(e,t,r[t]);if(Oe)for(var t of Oe(r))xr.call(r,t)&&Re(e,t,r[t]);return e};var Te=(e,r)=>{for(var t in r)we(e,t,{get:r[t],enumerable:!0})};var Nr=(n=>(n.MAINNET="1",n.OPENMEV="73300705280",n.GORELI="5",n))(Nr||{}),lt=["1"],Or=(r=>(r.MAINNET="0x1",r))(Or||{}),dt=["0x1"],Rr=e=>"https://api.sushirelay.com/v1",pt=Rr("mainnet");function N(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];if(!1)var o,i;throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function I(e){return!!e&&!!e[g]}function S(e){return!!e&&(function(r){if(!r||typeof r!="object")return!1;var t=Object.getPrototypeOf(r);if(t===null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Dr}(e)||Array.isArray(e)||!!e[Ce]||!!e.constructor[Ce]||ie(e)||ae(e))}function C(e,r,t){t===void 0&&(t=!1),k(e)===0?(t?Object.keys:U)(e).forEach(function(n){t&&typeof n=="symbol"||r(n,e[n],e)}):e.forEach(function(n,o){return r(o,n,e)})}function k(e){var r=e[g];return r?r.i>3?r.i-4:r.i:Array.isArray(e)?1:ie(e)?2:ae(e)?3:0}function M(e,r){return k(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function wr(e,r){return k(e)===2?e.get(r):e[r]}function Me(e,r,t){var n=k(e);n===2?e.set(r,t):n===3?(e.delete(r),e.add(t)):e[r]=t}function Ue(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}function ie(e){return _r&&e instanceof Map}function ae(e){return Pr&&e instanceof Set}function P(e){return e.o||e.t}function se(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var r=Fe(e);delete r[g];for(var t=U(r),n=0;n<t.length;n++){var o=t[n],i=r[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),r)}function ue(e,r){return r===void 0&&(r=!1),ce(e)||I(e)||!S(e)||(k(e)>1&&(e.set=e.add=e.clear=e.delete=Tr),Object.freeze(e),r&&C(e,function(t,n){return ue(n,!0)},!0)),e}function Tr(){N(2)}function ce(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function A(e){var r=oe[e];return r||N(18,e),r}function Ar(e,r){oe[e]||(oe[e]=r)}function re(){return F}function Y(e,r){r&&(A("Patches"),e.u=[],e.s=[],e.v=r)}function B(e){te(e),e.p.forEach(Ir),e.p=null}function te(e){e===F&&(F=e.l)}function Ae(e){return F={p:[],l:F,h:e,m:!0,_:0}}function Ir(e){var r=e[g];r.i===0||r.i===1?r.j():r.O=!0}function Z(e,r){r._=r.p.length;var t=r.p[0],n=e!==void 0&&e!==t;return r.h.g||A("ES5").S(r,e,n),n?(t[g].P&&(B(r),N(4)),S(e)&&(e=G(r,e),r.l||z(r,e)),r.u&&A("Patches").M(t[g].t,e,r.u,r.s)):e=G(r,t,[]),B(r),r.u&&r.v(r.u,r.s),e!==je?e:void 0}function G(e,r,t){if(ce(r))return r;var n=r[g];if(!n)return C(r,function(i,a){return Ie(e,n,r,i,a,t)},!0),r;if(n.A!==e)return r;if(!n.P)return z(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=se(n.k):n.o;C(n.i===3?new Set(o):o,function(i,a){return Ie(e,n,o,i,a,t)}),z(e,o,!1),t&&e.u&&A("Patches").R(n,t,e.u,e.s)}return n.o}function Ie(e,r,t,n,o,i){if(I(o)){var a=G(e,o,i&&r&&r.i!==3&&!M(r.D,n)?i.concat(n):void 0);if(Me(t,n,a),!I(a))return;e.m=!1}if(S(o)&&!ce(o)){if(!e.h.F&&e._<1)return;G(e,o),r&&r.A.l||z(e,o)}}function z(e,r,t){t===void 0&&(t=!1),e.h.F&&e.m&&ue(r,t)}function Q(e,r){var t=e[g];return(t?P(t):e)[r]}function Se(e,r){if(r in e)for(var t=Object.getPrototypeOf(e);t;){var n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=Object.getPrototypeOf(t)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function ee(e){e.o||(e.o=se(e.t))}function ne(e,r,t){var n=ie(r)?A("MapSet").N(r,t):ae(r)?A("MapSet").T(r,t):e.g?function(o,i){var a=Array.isArray(o),s={i:a?1:0,A:i?i.A:re(),P:!1,I:!1,D:{},l:i,t:o,k:null,o:null,j:null,C:!1},u=s,c=L;a&&(u=[s],c=j);var f=Proxy.revocable(u,c),l=f.revoke,p=f.proxy;return s.k=p,s.j=l,p}(r,t):A("ES5").J(r,t);return(t?t.A:re()).p.push(n),n}function Sr(e){return I(e)||N(22,e),function r(t){if(!S(t))return t;var n,o=t[g],i=k(t);if(o){if(!o.P&&(o.i<4||!A("ES5").K(o)))return o.t;o.I=!0,n=_e(t,i),o.I=!1}else n=_e(t,i);return C(n,function(a,s){o&&wr(o.t,a)===s||Me(n,a,r(s))}),i===3?new Set(n):n}(e)}function _e(e,r){switch(r){case 2:return new Map(e);case 3:return Array.from(e)}return se(e)}function ke(){function e(a,s){var u=i[a];return u?u.enumerable=s:i[a]=u={configurable:!0,enumerable:s,get:function(){var c=this[g];return L.get(c,a)},set:function(c){var f=this[g];L.set(f,a,c)}},u}function r(a){for(var s=a.length-1;s>=0;s--){var u=a[s][g];if(!u.P)switch(u.i){case 5:n(u)&&D(u);break;case 4:t(u)&&D(u)}}}function t(a){for(var s=a.t,u=a.k,c=U(u),f=c.length-1;f>=0;f--){var l=c[f];if(l!==g){var p=s[l];if(p===void 0&&!M(s,l))return!0;var m=u[l],d=m&&m[g];if(d?d.t!==p:!Ue(m,p))return!0}}var h=!!s[g];return c.length!==U(s).length+(h?0:1)}function n(a){var s=a.k;if(s.length!==a.t.length)return!0;var u=Object.getOwnPropertyDescriptor(s,s.length-1);if(u&&!u.get)return!0;for(var c=0;c<s.length;c++)if(!s.hasOwnProperty(c))return!0;return!1}function o(a){a.O&&N(3,JSON.stringify(P(a)))}var i={};Ar("ES5",{J:function(a,s){var u=Array.isArray(a),c=function(l,p){if(l){for(var m=Array(p.length),d=0;d<p.length;d++)Object.defineProperty(m,""+d,e(d,!0));return m}var h=Fe(p);delete h[g];for(var w=U(h),y=0;y<w.length;y++){var T=w[y];h[T]=e(T,l||!!h[T].enumerable)}return Object.create(Object.getPrototypeOf(p),h)}(u,a),f={i:u?5:4,A:s?s.A:re(),P:!1,I:!1,D:{},l:s,t:a,k:c,o:null,O:!1,C:!1};return Object.defineProperty(c,g,{value:f,writable:!0}),c},S:function(a,s,u){u?I(s)&&s[g].A===a&&r(a.p):(a.u&&function c(f){if(f&&typeof f=="object"){var l=f[g];if(l){var p=l.t,m=l.k,d=l.D,h=l.i;if(h===4)C(m,function(x){x!==g&&(p[x]!==void 0||M(p,x)?d[x]||c(m[x]):(d[x]=!0,D(l)))}),C(p,function(x){m[x]!==void 0||M(m,x)||(d[x]=!1,D(l))});else if(h===5){if(n(l)&&(D(l),d.length=!0),m.length<p.length)for(var w=m.length;w<p.length;w++)d[w]=!1;else for(var y=p.length;y<m.length;y++)d[y]=!0;for(var T=Math.min(m.length,p.length),O=0;O<T;O++)m.hasOwnProperty(O)||(d[O]=!0),d[O]===void 0&&c(m[O])}}}}(a.p[0]),r(a.p))},K:function(a){return a.i===4?t(a):n(a)}})}var Pe,F,fe=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",_r=typeof Map<"u",Pr=typeof Set<"u",De=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",je=fe?Symbol.for("immer-nothing"):((Pe={})["immer-nothing"]=!0,Pe),Ce=fe?Symbol.for("immer-draftable"):"__$immer_draftable",g=fe?Symbol.for("immer-state"):"__$immer_state";var Dr=""+Object.prototype.constructor,U=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Fe=Object.getOwnPropertyDescriptors||function(e){var r={};return U(e).forEach(function(t){r[t]=Object.getOwnPropertyDescriptor(e,t)}),r},oe={},L={get:function(e,r){if(r===g)return e;var t=P(e);if(!M(t,r))return function(o,i,a){var s,u=Se(i,a);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(o.k):void 0}(e,t,r);var n=t[r];return e.I||!S(n)?n:n===Q(e.t,r)?(ee(e),e.o[r]=ne(e.A.h,n,e)):n},has:function(e,r){return r in P(e)},ownKeys:function(e){return Reflect.ownKeys(P(e))},set:function(e,r,t){var n=Se(P(e),r);if(n?.set)return n.set.call(e.k,t),!0;if(!e.P){var o=Q(P(e),r),i=o?.[g];if(i&&i.t===t)return e.o[r]=t,e.D[r]=!1,!0;if(Ue(t,o)&&(t!==void 0||M(e.t,r)))return!0;ee(e),D(e)}return e.o[r]===t&&typeof t!="number"&&(t!==void 0||r in e.o)||(e.o[r]=t,e.D[r]=!0,!0)},deleteProperty:function(e,r){return Q(e.t,r)!==void 0||r in e.t?(e.D[r]=!1,ee(e),D(e)):delete e.D[r],e.o&&delete e.o[r],!0},getOwnPropertyDescriptor:function(e,r){var t=P(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.i!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty:function(){N(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){N(12)}},j={};C(L,function(e,r){j[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),j.deleteProperty=function(e,r){return j.set.call(this,e,r,void 0)},j.set=function(e,r,t){return L.set.call(this,e[0],r,t,e[0])};var Cr=function(){function e(t){var n=this;this.g=De,this.F=!0,this.produce=function(o,i,a){if(typeof o=="function"&&typeof i!="function"){var s=i;i=o;var u=n;return function(h){var w=this;h===void 0&&(h=s);for(var y=arguments.length,T=Array(y>1?y-1:0),O=1;O<y;O++)T[O-1]=arguments[O];return u.produce(h,function(x){var Ne;return(Ne=i).call.apply(Ne,[w,x].concat(T))})}}var c;if(typeof i!="function"&&N(6),a!==void 0&&typeof a!="function"&&N(7),S(o)){var f=Ae(n),l=ne(n,o,void 0),p=!0;try{c=i(l),p=!1}finally{p?B(f):te(f)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(h){return Y(f,a),Z(h,f)},function(h){throw B(f),h}):(Y(f,a),Z(c,f))}if(!o||typeof o!="object"){if((c=i(o))===void 0&&(c=o),c===je&&(c=void 0),n.F&&ue(c,!0),a){var m=[],d=[];A("Patches").M(o,c,m,d),a(m,d)}return c}N(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(c){for(var f=arguments.length,l=Array(f>1?f-1:0),p=1;p<f;p++)l[p-1]=arguments[p];return n.produceWithPatches(c,function(m){return o.apply(void 0,[m].concat(l))})};var a,s,u=n.produce(o,i,function(c,f){a=c,s=f});return typeof Promise<"u"&&u instanceof Promise?u.then(function(c){return[c,a,s]}):[u,a,s]},typeof t?.useProxies=="boolean"&&this.setUseProxies(t.useProxies),typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var r=e.prototype;return r.createDraft=function(t){S(t)||N(8),I(t)&&(t=Sr(t));var n=Ae(this),o=ne(this,t,void 0);return o[g].C=!0,te(n),o},r.finishDraft=function(t,n){var o=t&&t[g],i=o.A;return Y(i,n),Z(void 0,i)},r.setAutoFreeze=function(t){this.F=t},r.setUseProxies=function(t){t&&!De&&N(20),this.g=t},r.applyPatches=function(t,n){var o;for(o=n.length-1;o>=0;o--){var i=n[o];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}o>-1&&(n=n.slice(o+1));var a=A("Patches").$;return I(t)?a(t,n):this.produce(t,function(s){return a(s,n)})},e}(),b=new Cr,Mr=b.produce,vt=b.produceWithPatches.bind(b),mt=b.setAutoFreeze.bind(b),gt=b.setUseProxies.bind(b),yt=b.applyPatches.bind(b),Et=b.createDraft.bind(b),bt=b.finishDraft.bind(b),K=Mr;var It=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),le=function(){return Math.random().toString(36).substring(7).split("").join(".")},St={INIT:"@@redux/INIT"+le(),REPLACE:"@@redux/REPLACE"+le(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+le()}};function de(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.length===0?function(n){return n}:r.length===1?r[0]:r.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}var Ur=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var pe=function(e,r){for(var t=0,n=r.length,o=e.length;t<n;t++,o++)e[o]=r[t];return e},kr=Object.defineProperty;var Le=Object.getOwnPropertySymbols,jr=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,Ve=function(e,r,t){return r in e?kr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t},Be=function(e,r){for(var t in r||(r={}))jr.call(r,t)&&Ve(e,t,r[t]);if(Le)for(var n=0,o=Le(r);n<o.length;n++){var t=o[n];Fr.call(r,t)&&Ve(e,t,r[t])}return e};var Ct=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?de:de.apply(null,arguments)},Mt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};var Ut=function(e){Ur(r,e);function r(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.apply(this,t)||this;return Object.setPrototypeOf(o,r.prototype),o}return Object.defineProperty(r,Symbol.species,{get:function(){return r},enumerable:!1,configurable:!0}),r.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},r.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===1&&Array.isArray(t[0])?new(r.bind.apply(r,pe([void 0],t[0].concat(this)))):new(r.bind.apply(r,pe([void 0],t.concat(this))))},r}(Array);function _(e,r){function t(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(r){var i=r.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Be(Be({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return t.toString=function(){return""+e},t.type=e,t.match=function(n){return n.type===e},t}function Lr(e){var r={},t=[],n,o={addCase:function(i,a){var s=typeof i=="string"?i:i.type;if(s in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[s]=a,o},addMatcher:function(i,a){return t.push({matcher:i,reducer:a}),o},addDefaultCase:function(i){return n=i,o}};return e(o),[r,t,n]}function Vr(e){return typeof e=="function"}function Ge(e,r,t,n){t===void 0&&(t=[]);var o=typeof r=="function"?Lr(r):[r,t,n],i=o[0],a=o[1],s=o[2],u;if(Vr(e))u=function(){return K(e(),function(){})};else{var c=K(e,function(){});u=function(){return c}}function f(l,p){l===void 0&&(l=u());var m=pe([i[p.type]],a.filter(function(d){var h=d.matcher;return h(p)}).map(function(d){var h=d.reducer;return h}));return m.filter(function(d){return!!d}).length===0&&(m=[s]),m.reduce(function(d,h){if(h)if(I(d)){var w=d,y=h(w,p);return typeof y>"u"?d:y}else{if(S(d))return K(d,function(T){return h(T,p)});var y=h(d,p);if(typeof y>"u"){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return d},l)}return f.getInitialState=u,f}var jt=function(){function e(r,t){this.payload=r,this.meta=t}return e}(),Ft=function(){function e(r,t){this.payload=r,this.meta=t}return e}();var Br="task",ze="listener",Ke="completed",he="cancelled",Lt="task-"+he,Vt="task-"+Ke,Bt=ze+"-"+he,Gt=ze+"-"+Ke,zt=function(){function e(r){this.code=r,this.name="TaskAbortError",this.message=Br+" "+he+" (reason: "+r+")"}return e}();var ve="listenerMiddleware";var Kt=_(ve+"/add"),Wt=_(ve+"/removeAll"),Jt=_(ve+"/remove");ke();var We=_("transactions/addTransaction"),Je=_("transactions/clearAllTransactions"),qe=_("transactions/finalizeTransaction"),Xe=_("transactions/checkedTransaction"),He=_("transactions/updatePrivateTxStatus");var $e={};Te($e,{PrivateTxState:()=>W,privateTx:()=>Gr});var W=(i=>(i.UNCHECKED="UNCHECKED",i.PROCESSING="PROCESSING",i.OK="OK",i.INDETERMINATE="INDETERMINATE",i.ERROR="ERROR",i))(W||{});function Gr(e){throw new Error("[#sushiguard]: Function Error.")}function zr(e){return e?.privateTx?e?.privateTx?.state==="UNCHECKED"||e?.privateTx?.state==="PROCESSING":!e?.receipt}function Kr(e){return e?.privateTx?e?.privateTx?.state==="OK"&&!!e&&(e.receipt?.status===1||typeof e.receipt?.status>"u"):!!e&&(e.receipt?.status===1||typeof e.receipt?.status>"u")}function Wr(e){return e?.privateTx?e?.privateTx?.state==="INDETERMINATE":!1}function J(e){return e?(new Date().getTime()-e.addedTime)/1e3/60:0}function Zt(e){return e?J(e)>60:!1}var Qe={};Te(Qe,{default:()=>Jr,initialState:()=>Ze});var Ye=()=>new Date().getTime(),Ze={},Jr=Ge(Ze,e=>e.addCase(We,(r,{payload:{chainId:t,from:n,hash:o,approval:i,summary:a,claim:s,privateTx:u=!1}})=>{if(r[t]?.[o])throw Error("Attempted to add existing transaction.");let c=r[t]??{};c[o]=V({hash:o,approval:i,summary:a,claim:s,from:n,addedTime:Ye()},u?{privateTx:{state:"UNCHECKED",status:void 0}}:{}),r[t]=c}).addCase(Je,(r,{payload:{chainId:t}})=>{!r[t]||(r[t]={})}).addCase(Xe,(r,{payload:{chainId:t,hash:n,blockNumber:o}})=>{let i=r[t]?.[n];!i||(i.lastCheckedBlockNumber?i.lastCheckedBlockNumber=Math.max(o,i.lastCheckedBlockNumber):i.lastCheckedBlockNumber=o)}).addCase(qe,(r,{payload:{hash:t,chainId:n,receipt:o}})=>{let i=r[n]?.[t];!i||(i.receipt=o,i.confirmedTime=Ye())}).addCase(He,(r,{payload:{chainId:t,hash:n,status:o}})=>{let i=r[t]?.[n];if(!i)return;if(!i.privateTx)throw new Error("Invalid update private tx call to a non private tx");let a=i.privateTx?.state,s=i.privateTx?.status,u=J(i);if(a&&(a==="ERROR"||a==="INDETERMINATE"||a==="OK"))return;let c="PROCESSING";o.receivedAt&&o.relayedAt&&!o.relayFailure&&o.minedAt&&(c="OK"),o.receivedAt&&o.relayFailure&&o.relayResponses&&Object.values(o.relayResponses).reduceRight((f,l)=>f||!!(l.error||l.response.error),!1)&&(c="ERROR"),o.receivedAt&&o.relayedAt&&o.relayFailure&&o.minedAt&&(c="INDETERMINATE"),u>3&&(c="INDETERMINATE"),i.privateTx.state=c??"UNCHECKED",i.privateTx.status=o}));var me=class extends Error{constructor(t,n,o){super(t);this.req=n;this.res=o}};function vn(e,{jsonrpc:r="2.0",id:t=new Date().getTime(),method:n="",params:o=[]}){return fetch(e,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({jsonrpc:r,id:t,method:n,params:o})}).then(i=>{if(i.status!==200)throw new me(i.statusText,{jsonrpc:r,id:t,method:n,params:o},i);return i.json()})}function mn(e){if(e.jsonrpc!=="2.0"||typeof e.id!="string"&&typeof e.id!="number"&&e.id!==null||"result"in e&&"error"in e||!("result"in e)&&!("error"in e)||e.error&&typeof e.error.code!="number"||e.error&&typeof e.error.message!="string")throw new Error(`Expected JSON-RPC response, received something else.
${JSON.stringify(e)}`);return!0}function gn(e){return!!e.result&&!e.error}function yn(e){return!!e.error&&!e.result}var bn="0x000000000000000000000000000000000000dead";var Nn="0x0000000000000000000000000000000000000000";var Rn="";var Tn="0xDeadDeAddeAddEAddeadDEaDDEAdDeaDDeAD0000";var q=class extends Error{code;data;internal;constructor(r,t,n,o){if(!Number.isInteger(r))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.code=r,this.data=o,this.internal=n}},X=class extends q{constructor(r,t,n,o){if(!(Number.isInteger(r)&&r>=1e3&&r<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(r,t,n,o)}},er=class extends Error{name="AddChainError";message="Error adding chain"},rr=class extends Error{name="ChainNotConfigured";message="Chain not configured"},tr=class extends Error{name="ConnectorAlreadyConnectedError";message="Connector already connected"},nr=class extends Error{name="ConnectorNotFoundError";message="Connector not found"},or=class extends X{name="SwitchChainError";constructor(r){super(4902,"Error switching chain",r)}},ir=class extends Error{name="SwitchChainNotSupportedError";message="Switch chain not supported by connector"},ar=class extends X{name="UserRejectedRequestError";constructor(r){super(4001,"User rejected request",r)}},sr=class extends q{name="ResourceUnavailable";constructor(r){super(-32002,"Resource unavailable",r)}};var ur="logger/5.6.0";var cr=!1,fr=!1,H={debug:1,default:2,info:2,warning:3,error:4,off:5},lr=H.default,ge=null;function qr(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(r=>{try{if("test".normalize(r)!=="test")throw new Error("bad normalize")}catch{e.push(r)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}var dr=qr(),ye;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(ye||(ye={}));var R;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(R||(R={}));var pr="0123456789abcdef",v=class{constructor(r){Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}_log(r,t){let n=r.toLowerCase();H[n]==null&&this.throwArgumentError("invalid log level name","logLevel",r),!(lr>H[n])&&console.log.apply(console,t)}debug(...r){this._log(v.levels.DEBUG,r)}info(...r){this._log(v.levels.INFO,r)}warn(...r){this._log(v.levels.WARNING,r)}makeError(r,t,n){if(fr)return this.makeError("censored error",t,{});t||(t=v.errors.UNKNOWN_ERROR),n||(n={});let o=[];Object.keys(n).forEach(u=>{let c=n[u];try{if(c instanceof Uint8Array){let f="";for(let l=0;l<c.length;l++)f+=pr[c[l]>>4],f+=pr[c[l]&15];o.push(u+"=Uint8Array(0x"+f+")")}else o.push(u+"="+JSON.stringify(c))}catch{o.push(u+"="+JSON.stringify(n[u].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);let i=r,a="";switch(t){case R.NUMERIC_FAULT:{a="NUMERIC_FAULT";let u=r;switch(u){case"overflow":case"underflow":case"division-by-zero":a+="-"+u;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case R.CALL_EXCEPTION:case R.INSUFFICIENT_FUNDS:case R.MISSING_NEW:case R.NONCE_EXPIRED:case R.REPLACEMENT_UNDERPRICED:case R.TRANSACTION_REPLACED:case R.UNPREDICTABLE_GAS_LIMIT:a=t;break}a&&(r+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),o.length&&(r+=" ("+o.join(", ")+")");let s=new Error(r);return s.reason=i,s.code=t,Object.keys(n).forEach(function(u){s[u]=n[u]}),s}throwError(r,t,n){throw this.makeError(r,t,n)}throwArgumentError(r,t,n){return this.throwError(r,v.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(r,t,n,o){r||this.throwError(t,n,o)}assertArgument(r,t,n,o){r||this.throwArgumentError(t,n,o)}checkNormalize(r){r==null&&(r="platform missing String.prototype.normalize"),dr&&this.throwError("platform missing String.prototype.normalize",v.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:dr})}checkSafeUint53(r,t){typeof r=="number"&&(t==null&&(t="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(t,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,t,n){n?n=": "+n:n="",r<t&&this.throwError("missing argument"+n,v.errors.MISSING_ARGUMENT,{count:r,expectedCount:t}),r>t&&this.throwError("too many arguments"+n,v.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:t})}checkNew(r,t){(r===Object||r==null)&&this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}checkAbstract(r,t){r===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",v.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):(r===Object||r==null)&&this.throwError("missing new",v.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return ge||(ge=new v(ur)),ge}static setCensorship(r,t){if(!r&&t&&this.globalLogger().throwError("cannot permanently disable censorship",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),cr){if(!r)return;this.globalLogger().throwError("error censorship permanent",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}fr=!!r,cr=!!t}static setLogLevel(r){let t=H[r.toLowerCase()];if(t==null){v.globalLogger().warn("invalid log level - "+r);return}lr=t}static from(r){return new v(r)}};v.errors=R;v.levels=ye;var hr="bytes/5.6.1";var Ee=new v(hr);function Xr(e){return!!e.toHexString}function $(e){return e.slice||(e.slice=function(){let r=Array.prototype.slice.call(arguments);return $(new Uint8Array(Array.prototype.slice.apply(e,r)))}),e}function vr(e){return typeof e=="number"&&e==e&&e%1===0}function Hr(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!vr(e.length)||e.length<0)return!1;for(let r=0;r<e.length;r++){let t=e[r];if(!vr(t)||t<0||t>=256)return!1}return!0}function mr(e,r){if(r||(r={}),typeof e=="number"){Ee.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(e&255),e=parseInt(String(e/256));return t.length===0&&t.push(0),$(new Uint8Array(t))}if(r.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Xr(e)&&(e=e.toHexString()),$r(e)){let t=e.substring(2);t.length%2&&(r.hexPad==="left"?t="0"+t:r.hexPad==="right"?t+="0":Ee.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return $(new Uint8Array(n))}return Hr(e)?$(new Uint8Array(e)):Ee.throwArgumentError("invalid arrayify value","value",e)}function $r(e,r){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||r&&e.length!==2+2*r)}var gr="strings/5.6.1";var Yr=new v(gr),be;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(be||(be={}));var E;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(E||(E={}));function Zr(e,r,t,n,o){return Yr.throwArgumentError(`invalid codepoint at offset ${r}; ${e}`,"bytes",t)}function yr(e,r,t,n,o){if(e===E.BAD_PREFIX||e===E.UNEXPECTED_CONTINUE){let i=0;for(let a=r+1;a<t.length&&t[a]>>6===2;a++)i++;return i}return e===E.OVERRUN?t.length-r-1:0}function Qr(e,r,t,n,o){return e===E.OVERLONG?(n.push(o),0):(n.push(65533),yr(e,r,t,n,o))}var Er=Object.freeze({error:Zr,ignore:yr,replace:Qr});function et(e,r){r==null&&(r=Er.error),e=mr(e);let t=[],n=0;for(;n<e.length;){let o=e[n++];if(o>>7===0){t.push(o);continue}let i=null,a=null;if((o&224)===192)i=1,a=127;else if((o&240)===224)i=2,a=2047;else if((o&248)===240)i=3,a=65535;else{(o&192)===128?n+=r(E.UNEXPECTED_CONTINUE,n-1,e,t):n+=r(E.BAD_PREFIX,n-1,e,t);continue}if(n-1+i>=e.length){n+=r(E.OVERRUN,n-1,e,t);continue}let s=o&(1<<8-i-1)-1;for(let u=0;u<i;u++){let c=e[n];if((c&192)!=128){n+=r(E.MISSING_CONTINUE,n,e,t),s=null;break}s=s<<6|c&63,n++}if(s!==null){if(s>1114111){n+=r(E.OUT_OF_RANGE,n-1-i,e,t,s);continue}if(s>=55296&&s<=57343){n+=r(E.UTF16_SURROGATE,n-1-i,e,t,s);continue}if(s<=a){n+=r(E.OVERLONG,n-1-i,e,t,s);continue}t.push(s)}}return t}function rt(e){return e.map(r=>r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10&1023)+55296,(r&1023)+56320))).join("")}function xe(e,r){return rt(et(e,r))}function tt(e,r){return e&&e.code===r}function Zn(e){return tt(e,"CALL_EXCEPTION")}var Qn=async(e,r,t)=>{if(typeof e!="object")throw TypeError(`tx argument ${e} must be a transaction object`);if(typeof r!="object")throw TypeError(`receipt argument ${r} must be a transaction receipt object`);if(r.status)throw TypeError("Transaction did not fail. Can only read the revert reason from failed transactions");if(!r.transactionHash)throw TypeError("There is no transaction hash on the receipt object");if(r.gasUsed===e.gasLimit)throw Error("Transaction failed as it ran out of gas.");let n;try{n=(await t.call(V({},e),r.blockNumber)).slice(2)}catch(o){if(o.message.startsWith("Node error: ")){let i=o.message.slice(12),a=JSON.parse(i);if(!a.data)throw Error("Failed to parse data field error object:"+i);if(a.data.startsWith("Reverted 0x"))n=a.data.slice(11);else if(a.data.startsWith("0x"))n=a.data.slice(2);else throw Error("Failed to parse data field of error object:"+i)}else throw Error("Failed to parse error message from Ethereum call: "+o.message)}return nt(n)},nt=e=>{let r=parseInt(e.slice(72,136),16),t=e.slice(8+128,8+128+r*2);return xe("0x"+t)};var ot="PARSE_ERROR",it="INVALID_REQUEST",at="METHOD_NOT_FOUND",st="INVALID_PARAMS",ut="INTERNAL_ERROR",ct="SERVER_ERROR",ro=[-32700,-32600,-32601,-32602,-32603],to=[-32e3,-32099],no={[ot]:{code:-32700,message:"Parse error"},[it]:{code:-32600,message:"Invalid Request"},[at]:{code:-32601,message:"Method not found"},[st]:{code:-32602,message:"Invalid params"},[ut]:{code:-32603,message:"Internal error"},[ct]:{code:-32e3,message:"Server error"}};export{er as AddChainError,Nn as AddressZero,bn as BURN_ADDRESS,Nr as ChainId,rr as ChainNotConfiguredError,tr as ConnectorAlreadyConnectedError,nr as ConnectorNotFoundError,Tn as DeadAddress,Rn as EIP191_PREFIX_FOR_EIP712_STRUCTURED_DATA,me as HttpJsonRpcError,ut as INTERNAL_ERROR,st as INVALID_PARAMS,it as INVALID_REQUEST,pt as MAINNET_RPC_URL,at as METHOD_NOT_FOUND,Or as OPENMEV_METAMASK_CHAIN_ID,dt as OPENMEV_METAMASK_SUPPORTED_NETWORKS,lt as OPENMEV_SUPPORTED_NETWORKS,ot as PARSE_ERROR,$e as PrivateTransaction,W as PrivateTxState,X as ProviderRpcError,ro as RESERVED_ERROR_CODES,Qe as Reducer,sr as ResourceUnavailableError,q as RpcError,ct as SERVER_ERROR,to as SERVER_ERROR_CODE_RANGE,no as STANDARD_ERROR_MAP,or as SwitchChainError,ir as SwitchChainNotSupportedError,ar as UserRejectedRequestError,We as addTransaction,Xe as checkedTransaction,Je as clearAllTransactions,vn as fetchJsonRpc,qe as finalizeTransaction,Qn as getTransactionError,Zn as isCallException,tt as isError,yn as isJsonRpcError,gn as isJsonRpcSuccess,Zt as isTxExpired,Wr as isTxIndeterminate,zr as isTxPending,Kr as isTxSuccessful,nt as parseReasonCode,Gr as privateTx,J as txMinutesPending,He as updatePrivateTxStatus,mn as validateJsonRpcResponse};
/**
 *
 * @class PrivateTransaction
 * @license GPL-3.0-Only
 * @see {@link https://docs.manifoldfinance.com}
 * @since 2022.03
 * @version 0.1.0
 *
 */
//# sourceMappingURL=libsushi.esm.js.map
